<UserControl x:Class="ComputerPerformanceReview.Views.StartupView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:conv="clr-namespace:ComputerPerformanceReview.Converters">
    <UserControl.Resources>
        <conv:BoolToVisibilityConverter x:Key="BoolVis"/>
    </UserControl.Resources>

    <Grid Background="{DynamicResource WindowBrush}">
        <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center" MaxWidth="500">

            <!-- Admin warning -->
            <Border Visibility="{Binding IsAdmin, Converter={StaticResource BoolVis}, ConverterParameter=invert}"
                    Background="{DynamicResource WarningDimBrush}" CornerRadius="6" Padding="14,10" Margin="0,0,0,20">
                <StackPanel>
                    <TextBlock Text="Running without administrator privileges" FontWeight="SemiBold"
                               Foreground="White" Margin="0,0,0,6"/>
                    <TextBlock Text="Some data (event log, per-process I/O, GDI handles) requires elevation."
                               Foreground="#FFFFFFCC" FontSize="12" TextWrapping="Wrap"/>
                    <Button Content="Restart as Admin" Style="{StaticResource SecondaryButton}"
                            Command="{Binding RestartAsAdminCommand}" Margin="0,8,0,0"
                            HorizontalAlignment="Left" Padding="14,6"/>
                </StackPanel>
            </Border>

            <!-- Title -->
            <TextBlock Text="System Performance Monitor"
                       Style="{StaticResource MetricValue}" FontSize="28"
                       HorizontalAlignment="Center" Margin="0,0,0,8"/>
            <TextBlock Text="Real-time monitoring and analysis of your system"
                       Style="{StaticResource MetricLabel}" FontSize="14"
                       HorizontalAlignment="Center" Margin="0,0,0,40"/>

            <!-- Monitor card -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,12">
                <StackPanel>
                    <TextBlock Text="Real-time Monitor" FontSize="16" FontWeight="SemiBold"
                               Foreground="{DynamicResource ForegroundBrush}"/>
                    <TextBlock Text="Continuous monitoring that catches spikes, hangs, and bottlenecks in real time."
                               Foreground="{DynamicResource SecondaryForegroundBrush}" FontSize="12"
                               TextWrapping="Wrap" Margin="0,4,0,12"/>

                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Duration:" Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   VerticalAlignment="Center" Margin="0,0,8,0"/>
                        <TextBox Text="{Binding MonitorMinutes, UpdateSourceTrigger=PropertyChanged}"
                                 Width="50" Padding="6,4" FontSize="14"
                                 Background="{DynamicResource SurfaceBrush}"
                                 Foreground="{DynamicResource ForegroundBrush}"
                                 BorderBrush="{DynamicResource BorderBrush}"/>
                        <TextBlock Text="minutes" Foreground="{DynamicResource SecondaryForegroundBrush}"
                                   VerticalAlignment="Center" Margin="8,0,0,0"/>

                        <Button Content="Start Monitoring" Style="{StaticResource PrimaryButton}"
                                Command="{Binding StartMonitorCommand}"
                                Margin="20,0,0,0" Padding="20,8"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- Snapshot card -->
            <Border Style="{StaticResource CardStyle}" Margin="0,0,0,0">
                <StackPanel>
                    <TextBlock Text="Snapshot Analysis" FontSize="16" FontWeight="SemiBold"
                               Foreground="{DynamicResource ForegroundBrush}"/>
                    <TextBlock Text="One-time scan of disk, memory, CPU, network and system settings."
                               Foreground="{DynamicResource SecondaryForegroundBrush}" FontSize="12"
                               TextWrapping="Wrap" Margin="0,4,0,12"/>

                    <Button Content="Run Snapshot" Style="{StaticResource SecondaryButton}"
                            Command="{Binding RunSnapshotCommand}"
                            HorizontalAlignment="Left" Padding="20,8"/>
                </StackPanel>
            </Border>

        </StackPanel>
    </Grid>
</UserControl>
